# プロジェクトを GitHub で管理する

Siv3D プロジェクトを GitHub を使ってバージョン管理するための手順を説明します。なお、Siv3D では .gitignore は自動的には配置されないため、本手順のようにダウンロードと配置が必要です。

## 1. 事前準備
- GitHub アカウントを作成します
- [GitHub Desktop :material-open-in-new:](https://github.com/apps/desktop){:target="_blank"} をインストールします


## 2. Siv3D プロジェクトの作成
- Siv3D プロジェクトを作成します
	- Visual Studio で新しいプロジェクトを作成する場合、「ソリューションとプロジェクトを同じディレクトリに配置する」にチェックを入れることを推奨します。これによりプロジェクトディレクトリが最上位のディレクトリに配置され、リポジトリ構造がシンプルになります（必須ではありません）


## 3. .gitignore ファイルのダウンロード

!!!info ".gitignore ファイルの役割"
	- `.gitignore` ファイルは、Git が追跡（バージョン管理の対象とすること）しないファイルやディレクトリを指定するためのファイルです
	- プロジェクトには、ビルドするたびに毎回生成されるファイルや、IDE の一時ファイルなど、GitHub で管理する必要のないファイルや管理すべきでないファイルが大量に含まれます
	- これらのファイルを Git の管理対象から除外するために、`.gitignore` ファイルを使用します

- [Siv3D 公式の `.gitignore` ファイル :material-open-in-new:](https://github.com/Siv3D/gitignore/blob/main/.gitignore){:target="_blank"} をダウンロードします
- ダウンロードの過程でファイル名が `gitignore.txt` のように `.txt` 拡張子が付いてしまう場合があります。その場合は、ファイル名を正確に `.gitignore` に修正します（ドットから始まるファイル名です）


## 4. .gitignore ファイルの配置
- 作成した Siv3D プロジェクトの最上位ディレクトリ（ルートディレクトリ）に、ダウンロードした `.gitignore` ファイルを配置します
	- Visual Studio の場合、通常は `.sln` ファイルがあるディレクトリです


## 5. ローカルリポジトリの作成
!!!info "リポジトリ名について"
	- ここでは ローカルの既存プロジェクトフォルダが `C:\Users\YourName\Desktop\projects\MyGame` である場合を例に説明します
	- `MyGame` の部分は、実際のプロジェクト名に置き換えてください

- GitHub Desktop を起動します
- **File** メニューから **New repository...** を選択します

| 項目 | 説明 |
| ---- | ---- |
| **Name** | プロジェクトフォルダの名前を入力します（`MyGame`） |
| **Description** | プロジェクトの説明を入力します（任意） |
| **Local path** | プロジェクトフォルダの**親ディレクトリ**を指定します（`C:\Users\YourName\Desktop\projects`） |
| **Initialize this repository with a README** | チェックを入れます（README ファイルが自動生成されます） |
| **Git ignore** | すでに配置した `.gitignore` ファイルを使用するため、ここでは選択しません（`None` のままにします） |
| **License** | 必要に応じてライセンスを選択します。「None」のままでも問題ありません。ライセンスはあとから追加・変更可能です |

- **Create repository** をクリックします
- これで、既存の `MyGame` プロジェクトフォルダがローカル Git リポジトリとして初期化されます
- GitHub Desktop で `MyGame` のコミット履歴を確認すると、プロジェクトの既存ファイルすべてが `Initial commit` としてコミットされていることがわかります
	- コミットされていない場合は **5. プロジェクトの更新** の手順に従って、手動でコミットを行ってください


## 6. リモートリポジトリの作成と公開
- GitHub Desktop で、作成した `MyGame` リポジトリが選択されていることを確認します
- メインエリアの上部にある **Publish repository** ボタンをクリックします
- **Publish repository** ダイアログが表示されます

| 項目 | 説明 |
| ---- | ---- |
| **Name** | GitHub 上のリポジトリ名を入力します（`MyGame`） |
| **Description** | リポジトリの説明を入力します（GitHub 上であとから変更可能。任意） |
| **Keep this code private** | 非公開リポジトリにする場合はチェックを入れます。公開リポジトリにする場合はチェックを外します。学習目的や個人プロジェクトであれば、最初は非公開（private）にしておくのが無難です |
| **organization** | リポジトリを特定の GitHub Organization に所属させる場合に選択します。個人アカウントで管理する場合はデフォルトの None のままにします |

!!!info "リポジトリの共有や設定の変更について"
	- 非公開リポジトリであっても、GitHub 上のリポジトリ設定 Settings > Collaborators から他の GitHub ユーザーを招待して共同作業することができます
	- リポジトリの公開・非公開設定は、あとから GitHub 上の Settings で変更可能です

- **Publish repository** をクリックします
- これで、GitHub 上に `MyGame` という名前のリモートリポジトリが作成され、ローカルリポジトリの現在の内容（コミット履歴）がプッシュ（アップロード）されます


## 7. プロジェクトの更新
- プロジェクトファイルに変更を加えたら、GitHub Desktop を開きます
- 変更されたファイルがある場合、左側の **Changes** ペインに一覧表示されます
- 変更内容を確認し、コミットに含めるファイルを選択します（通常は変更されたすべてのファイル）
- 下部にある **Summary** フィールドに、変更内容を簡潔に説明するコミットメッセージを入力します (例: 「プレイヤー移動機能の追加」)
- **Commit to** main (または現在のブランチ名) ボタンをクリックして、変更をローカルリポジトリにコミットします
- その後、上部にある **Push origin** ボタンをクリックして、ローカルリポジトリのコミットを GitHub 上のリモートリポジトリに反映させます

