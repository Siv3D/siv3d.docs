
# åƒè‘‰ (2020) è³‡æ–™

## ã¯ã˜ã‚ã«

### å‹‰å¼·ä¼šä¸­ã®è£œè¶³è³‡æ–™

- å‹‰å¼·ä¼šä¸­ã«è¿½åŠ ã§ç´¹ä»‹ã—ãŸå†…å®¹ã‚„ URL ã‚’è²¼ã‚Šã¾ã™
- https://scrapbox.io/siv3d-chiba/è£œè¶³è³‡æ–™
- ä¼‘æ†©æ™‚é–“ã®ã‚ã¨ã« LT ã‚¿ã‚¤ãƒ ï¼ˆç™ºè¡¨è€…ãŒã„ã‚Œã°ï¼‰

### Siv3D ã¨ã¯

- Windows ã‚„ macOS, Linux ã§å‹•ãã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é–‹ç™ºã™ã‚‹ãŸã‚ã® C++ ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- å®Œå…¨ã«ç„¡æ–™ã€ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã€ã‚†ã‚‹ã„ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ (MIT)
- ç”¨é€”: ã‚²ãƒ¼ãƒ ã€ç ”ç©¶ç”¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€ãƒ¡ãƒ‡ã‚£ã‚¢ã‚¢ãƒ¼ãƒˆåˆ¶ä½œã€ç”»åƒãƒ»éŸ³å£°å‡¦ç†ã€ç«¶æŠ€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°

### Siv3D ã®ç‰¹é•·

- å…ˆé€²: æœ€å…ˆç«¯ã® C++17 è¦æ ¼ã§è¨­è¨ˆã•ã‚Œã¦ã„ã‚‹ï¼ˆç¾åœ¨ C++20 ã¸ç§»è¡Œä¸­ï¼‰
- ã‚·ãƒ³ãƒ—ãƒ«: 1 ã¤ã®ã“ã¨ã‚’ã™ã‚‹ã®ã«ã€ãŸã„ã¦ã„ 1 è¡Œã§æ¸ˆã‚€
- ä¸€è²«: åŸºæœ¬ã‚’è¦šãˆã‚Œã°ã€ã‚ã‚‰ã‚†ã‚‹æ©Ÿèƒ½ã‚’åŒã˜ãƒ«ãƒ¼ãƒ«ã§ä½¿ãˆã‚‹
- é«˜é€Ÿ: å®Ÿè¡Œæ™‚æ€§èƒ½ã«å„ªã‚ŒãŸæŠ€è¡“ã‚’å¤šæ•°æ¡ç”¨ï¼ˆZstandard, SFMT, OpenCV, libjpeg-turbo...ï¼‰

### Siv3D ã‚’ä½¿ã†ãƒ¡ãƒªãƒƒãƒˆ
- å°‘ãªã„å‹‰å¼·æ™‚é–“ã§å¹…åºƒã„åˆ†é‡ã®æŠ€è¡“ã«ã‚¢ã‚¯ã‚»ã‚¹
- éå¸¸ã«çŸ­ã„ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã‚¢ãƒ—ãƒªã‚’ä½œã‚Œã‚‹ã€‚ã‚³ãƒ¼ãƒ‰ã®ã‚·ã‚§ã‚¢ãŒæ¥½ï¼ˆæ•°åè¡Œã‚³ãƒ”ãƒšã™ã‚‹ã ã‘ï¼‰
- æœ€æ–°ã® C++ ã®æ›¸ãæ–¹ã‚„ä½¿ã„æ–¹ã‚’å­¦ã¹ã‚‹
- å›°ã£ãŸã“ã¨ãŒã‚ã‚Œã° Slack ã‚„ Twitter ã§ã‚µãƒãƒ¼ãƒˆ
    - https://twitter.com/Reputeless/status/1178609247279468544

### 2 ç¨®é¡ã‚ã‚‹ Siv3D
- Siv3D
    - 2016 å¹´ã¾ã§é–‹ç™ºã€Windows ç‰ˆã®ã¿
    - Web ä¸Šã«ã‚µãƒ³ãƒ—ãƒ«ã‚„è§£èª¬ã®è¨˜äº‹ãŒå¤šã„
- OpenSiv3D (ä»Šæ—¥ä½¿ã†ï¼)
    - 2016 å¹´ã‹ã‚‰é–‹ç™º
    - ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã€Windows/macOS/Linux å¯¾å¿œ
    - Siv3D ã‚’ 100 ã¨ã™ã‚‹ã¨ ç§»æ¤æ¸ˆã¿æ©Ÿèƒ½ 75, æ–°æ©Ÿèƒ½ 90

### Siv3D ã®é–‹ç™ºã¸ã®å‚åŠ 
- [ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰](https://github.com/Siv3D/OpenSiv3D/graphs/contributors) ã‚„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚¿ 15 äººä»¥ä¸Š
- [å®Ÿè£…ä¼š](https://siv3d.github.io/ja-jp/community/dev-day/) ã‚’æ¯æœˆé–‹å‚¬

### ãŠã™ã™ã‚ Siv3D ã‚²ãƒ¼ãƒ ä½œå“
- [One week, My room](https://www.google.com/search?q=One+week%2C+My+room)
- [CORGI JUMP](https://voidproc.itch.io/corgi-jump)

### ã•ã¾ã–ã¾ãªæ´»ç”¨ä¾‹
- [Siv3D ã«é–¢ã™ã‚‹ãƒ„ã‚¤ãƒ¼ãƒˆã‚’æ¤œç´¢](https://twitter.com/search?q=Siv3D%20OR%20OpenSiv3D&src=typed_query&f=live)
- [é«˜å°‚ãƒ—ãƒ­ã‚³ãƒ³](https://twitter.com/Reputeless/status/1184847931892850688)
- ä¸­é«˜ã®éƒ¨æ´»ï¼ˆ[æ—©ç¨²ç”°](https://twitter.com/waseda_pcp/status/1176817389255610370), [æµ·åŸ](https://twitter.com/KaijoComputer/status/1118433731155357696), [éº»å¸ƒ](https://twitter.com/Reputeless/status/1173060995519877123), [ç­‘é§’](https://twitter.com/Reputeless/status/1191314798790635525))
- å¤§å­¦ã§ã®ç ”ç©¶ (å¤šæ•°)

## ã‚³ãƒ¼ãƒ‰ã‚’å‹•ã‹ãã†

### 0. äº‹å‰æº–å‚™

- Windows ã®å ´åˆ
    - [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ](https://siv3d.github.io/ja-jp/#opensiv3d)
    - Visual Studio ã®ãƒ“ãƒ«ãƒ‰ãƒ¢ãƒ¼ãƒ‰ã‚’ Debug ã‹ã‚‰ Release ã«å¤‰æ›´ï¼ˆå‡¦ç†ãŒæ—©ããªã‚‹ï¼‰<br><img src="https://github.com/Siv3D/siv3d.docs.images/blob/master/article/event/vs-release-mode.gif?raw=true" style="display: inline; margin:none;" width="400">
- macOS ã®å ´åˆ
    - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ `examples/empty/empty.xcodeproj` ã‚’[é–‹ã](https://siv3d.github.io/ja-jp/#macos_2)

### 1. åŸºæœ¬ã‚µãƒ³ãƒ—ãƒ«

- é©å½“ã«æ”¹é€ ã—ã¦ã¿ã‚‹
- [OpenSiv3D ã§ä½¿ãˆã‚‹çµµæ–‡å­—ã®ä¸€è¦§](https://siv3d.github.io/ja-jp/reference/emojis/)

```C++
# include <Siv3D.hpp>

void Main()
{
    // èƒŒæ™¯ã‚’æ°´è‰²ã«ã™ã‚‹
    Scene::SetBackground(ColorF(0.8, 0.9, 1.0));

    // å¤§ãã• 60 ã®ãƒ•ã‚©ãƒ³ãƒˆã‚’ç”¨æ„
    const Font font(60);

    // çŒ«ã®ãƒ†ã‚¯ã‚¹ãƒãƒ£ã‚’ç”¨æ„
    const Texture cat(Emoji(U"ğŸˆ"));

    // çŒ«ã®åº§æ¨™
    Vec2 catPos(640, 450);

    while (System::Update())
    {
        // ãƒ†ã‚­ã‚¹ãƒˆã‚’ç”»é¢ã®ä¸­å¿ƒã«æã
        font(U"Hello, Siv3D!ğŸ£").drawAt(Scene::Center(), Palette::Black);

        // å¤§ãã•ã‚’ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã•ã›ã¦çŒ«ã‚’è¡¨ç¤ºã™ã‚‹
        cat.resized(100 + Periodic::Sine0_1(1s) * 20).drawAt(catPos);

        // ãƒã‚¦ã‚¹ã‚«ãƒ¼ã‚½ãƒ«ã«è¿½å¾“ã™ã‚‹åŠé€æ˜ã®èµ¤ã„å††ã‚’æã
        Circle(Cursor::Pos(), 40).draw(ColorF(1, 0, 0, 0.5));

        // [A] ã‚­ãƒ¼ãŒæŠ¼ã•ã‚ŒãŸã‚‰
        if (KeyA.down())
        {
            // Hello ã¨ãƒ‡ãƒãƒƒã‚°è¡¨ç¤ºã™ã‚‹
            Print << U"Hello!";
        }

        // ãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚ŒãŸã‚‰
        if (SimpleGUI::Button(U"Move the cat", Vec2(600, 20)))
        {
            // çŒ«ã®åº§æ¨™ã‚’ç”»é¢å†…ã®ãƒ©ãƒ³ãƒ€ãƒ ãªä½ç½®ã«ç§»å‹•ã™ã‚‹
            catPos = RandomVec2(Scene::Rect());
        }
    }
}
```

### 2. ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’å‹•ã‹ã—ã¦ã¿ã‚‹ (50 åˆ†)

- [ã‚²ãƒ¼ãƒ ](https://siv3d.github.io/ja-jp/sample/game/)
- [ã‚¢ãƒ—ãƒª](https://siv3d.github.io/ja-jp/sample/app/)
    - ãƒã‚¤ã‚¯ã®ã‚µãƒ³ãƒ—ãƒ«ã¯ MacBook ã§å‹•ã‹ãªã„å ´åˆã‚‚ (v0.4.3 ã§ä¿®æ­£)

### å°ä¼‘æ†© (10 åˆ†)

### 3. ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’èª­ã‚“ã§ã¿ã‚‹ (60 åˆ†)

- 1 ç«  ï½ 14 ç« ã®çŸ¥è­˜ãŒã‚ã‚Œã°ç°¡å˜ãªã‚²ãƒ¼ãƒ ãŒä½œã‚Œã‚‹

### ä¼‘æ†© (20 åˆ†)

- https://scrapbox.io/siv3d-chiba/è£œè¶³è³‡æ–™

## ä½œã£ã¦ã¿ã‚ˆã†

### 4. ã‚¢ãƒ—ãƒªé–‹ç™ºç·´ç¿’ã€ŒãŠã¿ãã˜ã€

#### 4.1 åŸºæœ¬

```C++
# include <Siv3D.hpp>

void Main()
{
	Array<String> items =
	{
		U"å¤§å‰", U"å‰", U"ä¸­å‰", U"å°å‰", U"æœ«å‰", U"å‡¶"
	};

	bool active = true;
	String currentItem;

	while (System::Update())
	{
		if (active)
		{
			// ãƒ©ãƒ³ãƒ€ãƒ ã« 1 å€‹é¸æŠ
			currentItem = items.choice();
		}

		if (SimpleGUI::Button(currentItem, Vec2(220, 100), 150))
		{
			active = !active;
		}
	}
}
```

#### 4.2 ç¢ºç‡ã«é‡ã¿ã¥ã‘

```C++
# include <Siv3D.hpp>

void Main()
{
	Array<String> items =
	{
		U"å¤§å‰", U"å‰", U"ä¸­å‰", U"å°å‰", U"æœ«å‰", U"å‡¶"
	};

	// ç¢ºç‡ã®é‡ã¿ã¥ã‘ï¼ˆåˆè¨ˆã¯ã©ã‚“ãªæ•°ã«ãªã£ã¦ã‚‚ã‚ˆã„ï¼‰
	Array<double> weights =
	{
		5, 30, 100, 60, 20, 10
	};
	DiscreteDistribution di(weights);

	// ã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯
	if (items.size() != di.size())
	{
		throw Error(U"ã‚¢ã‚¤ãƒ†ãƒ ã®æ•°ã¨ weight ã®æ•°ãŒé•ã„ã¾ã™ã€‚");
	}

	bool active = true;
	String currentItem;

	while (System::Update())
	{
		if (active)
		{
			// é‡ã¿ã¥ã‘ã‚’ã‚‚ã¨ã«ãƒ©ãƒ³ãƒ€ãƒ ã« 1 å€‹é¸æŠ
			currentItem = DiscreteSample(items, di);
		}

		if (SimpleGUI::Button(currentItem, Vec2(220, 100), 150))
		{
			active = !active;
		}
	}
}
```

#### 4.3 ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã®ãƒ­ãƒ¼ãƒ‰ã¨ãƒ‘ãƒ¼ã‚¹

- ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯ `"App"` ("example" ã‚„ "engine" ãƒ•ã‚©ãƒ«ãƒ€ãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€)
- ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã« `data.txt` ã‚’ä»¥ä¸‹ã®å†…å®¹ã§ç”¨æ„ã™ã‚‹

```txt
å¤§å‰=5
å‰=30
ä¸­å‰=100
å°å‰=60
æœ«å‰=20
å‡¶=10
```

```C++
# include <Siv3D.hpp>

void Main()
{
	Array<String> items;
	Array<double> weights;

	// ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚ªãƒ¼ãƒ—ãƒ³
	TextReader reader(U"data.txt");
	if (!reader)
	{
		throw Error(U"ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—");
	}

	// å„è¡Œã‹ã‚‰èª­ã¿è¾¼ã‚€
	{
		String line;
		while (reader.readLine(line))
		{
			// ç©ºç™½è¡Œã¯ã‚¹ã‚­ãƒƒãƒ—
			if (line.isEmpty())
			{
				continue;
			}

			// = ã®å‰ã¨å¾Œã‚ã§åˆ†ã‘ã‚‹
			Array<String> elements = line.split(U'=');

			if (elements.size() != 2)
			{
				throw Error(U"ä¸æ­£ãªæ›¸å¼ï¼");
			}

			items << elements[0];
			weights << Parse<double>(elements[1]);
		}
	}

	DiscreteDistribution di(weights);

	// é…åˆ—ã®ä¸­èº«ã‚’ç¢ºèª
	Print << U"items: " << items;
	Print << U"weights: " << weights;
	Print << U"ç¢ºç‡: " << di.probabilities();

	// ã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯
	if (items.isEmpty())
	{
		throw Error(U"ã‚¢ã‚¤ãƒ†ãƒ ãŒã‚ã‚Šã¾ã›ã‚“ã€‚");
	}

	// ã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯
	if (items.size() != di.size())
	{
		throw Error(U"ã‚¢ã‚¤ãƒ†ãƒ ã®æ•°ã¨ weight ã®æ•°ãŒé•ã„ã¾ã™ã€‚");
	}

	bool active = true;
	String currentItem;

	while (System::Update())
	{
		if (active)
		{
			// é‡ã¿ã¥ã‘ã‚’ã‚‚ã¨ã«ãƒ©ãƒ³ãƒ€ãƒ ã« 1 å€‹é¸æŠ
			currentItem = DiscreteSample(items, di);
		}

		if (SimpleGUI::Button(currentItem, Vec2(220, 100), 150))
		{
			active = !active;
		}
	}
}
```

### 5. ã‚¢ãƒ—ãƒªé–‹ç™ºç·´ç¿’ã€Œè½ã¡ã¦ãã‚‹ã‚¢ã‚¤ãƒ†ãƒ ã‚’é›†ã‚ã‚‹ã‚²ãƒ¼ãƒ ã€

#### 5.1 ç§»å‹•ã®åŸºæœ¬

```C++
# include <Siv3D.hpp>

void Main()
{
    // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®çµµæ–‡å­—ãƒ†ã‚¯ã‚¹ãƒãƒ£
    const Texture playerTexture(Emoji(U"ğŸ˜ƒ"));

    // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã‚¹ãƒ”ãƒ¼ãƒ‰ï¼ˆãƒ”ã‚¯ã‚»ãƒ« / ç§’)
    const double playerSpeed = 500.0;

    // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®åº§æ¨™
    Vec2 playerPos(400, 500);

    while (System::Update())
    {
        //
        // æ›´æ–°
        //

        // å‰ã®ãƒ•ãƒ¬ãƒ¼ãƒ ã‹ã‚‰ã®çµŒéæ™‚é–“ (ç§’)
        const double deltaTime = Scene::DeltaTime();

        if (KeyLeft.pressed()) // â† ã‚­ãƒ¼ãŒæŠ¼ã•ã‚Œã¦ã„ãŸã‚‰
        {
            playerPos.x -= playerSpeed * deltaTime;
        }
        else if (KeyRight.pressed()) // â†’ ã‚­ãƒ¼ãŒæŠ¼ã•ã‚Œã¦ã„ãŸã‚‰
        {
            playerPos.x += playerSpeed * deltaTime;
        }

        // å£ã®å¤–ã«å‡ºãªã„ã‚ˆã†ã«ã™ã‚‹
        playerPos.x = Clamp(playerPos.x, 0.0, 800.0);

        //
        // æç”»
        //

        // èƒŒæ™¯ã¯ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã® Rect
        Scene::Rect()
            .draw(Arg::top = ColorF(0.1, 0.4, 0.8), Arg::bottom = ColorF(0.3, 0.7, 1.0));

        // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ãƒ†ã‚¯ã‚¹ãƒãƒ£ã®æç”»
        playerTexture.drawAt(playerPos);
    }
}
```

#### 5.2 è½ã¡ã¦ãã‚‹ã‚¢ã‚¤ãƒ†ãƒ 

```C++
# include <Siv3D.hpp>

// ã‚¢ã‚¤ãƒ†ãƒ ã®æƒ…å ±
struct Item
{
    Vec2 pos;
    int32 score;
};

void Main()
{
    const Texture playerTexture(Emoji(U"ğŸ˜ƒ"));

    const double playerSpeed = 500.0;

    Vec2 playerPos(400, 500);

    // ã‚¢ã‚¤ãƒ†ãƒ ã®ãƒ†ã‚¯ã‚¹ãƒãƒ£
    const Texture itemTexture(Emoji(U"ğŸ°"));

    // ã‚¢ã‚¤ãƒ†ãƒ ã®é…åˆ—
    Array<Item> items;

    // ã‚¢ã‚¤ãƒ†ãƒ ã®å‡ºç¾é–“éš”
    const double spawnTime = 0.5;

    // ã‚¢ã‚¤ãƒ†ãƒ å‡ºç¾ã¾ã§ã®ç´¯ç©æ™‚é–“
    double time = 0.0;

    // ã‚¢ã‚¤ãƒ†ãƒ ã®è½ä¸‹ã‚¹ãƒ”ãƒ¼ãƒ‰
    const double itemSpeed = 200.0;

    while (System::Update())
    {
        // ãƒ‡ãƒãƒƒã‚°ç”¨
        ClearPrint();
        Print << U"ã‚¢ã‚¤ãƒ†ãƒ ã®å€‹æ•°: " << items.size();

        //
        // æ›´æ–°
        //

        const double deltaTime = Scene::DeltaTime();

        if (KeyLeft.pressed())
        {
            playerPos.x -= playerSpeed * deltaTime;
        }
        else if (KeyRight.pressed())
        {
            playerPos.x += playerSpeed * deltaTime;
        }

        playerPos.x = Clamp(playerPos.x, 0.0, 800.0);

        // ã‚¢ã‚¤ãƒ†ãƒ ã®å‡ºç¾ã¨ç§»å‹•ã¨æ¶ˆæ»…
        {
            time += deltaTime;

            // spawnTime ãŒçµŒéã™ã‚‹ã”ã¨ã«è¿½åŠ 
            while (time >= spawnTime)
            {
                Item item;
                item.pos.x = Random(100, 700);
                item.pos.y = -100;
                item.score = 10;

                items << item;

                time -= spawnTime;
            }

            for (auto& item : items)
            {
                item.pos.y += deltaTime * itemSpeed;
            }

            // ç”»é¢å¤–ã«å‡ºãŸã‚‰æ¶ˆå»
            items.remove_if([](const Item& item) { return item.pos.y > 700; });
        }

        //
        // æç”»
        //

        Scene::Rect()
            .draw(Arg::top = ColorF(0.1, 0.4, 0.8), Arg::bottom = ColorF(0.3, 0.7, 1.0));

        playerTexture.drawAt(playerPos);

        // ã‚¢ã‚¤ãƒ†ãƒ ã®æç”»
        for (const auto& item : items)
        {
            itemTexture.drawAt(item.pos);
        }
    }
}
```

#### 5.3 ã‚¢ã‚¤ãƒ†ãƒ ã¨ã®å½“ãŸã‚Šåˆ¤å®š

```C++
# include <Siv3D.hpp>

struct Item
{
    Vec2 pos;
    int32 score;
};

void Main()
{
    const Texture playerTexture(Emoji(U"ğŸ˜ƒ"));

    const double playerSpeed = 500.0;

    Vec2 playerPos(400, 500);

    const Texture itemTexture(Emoji(U"ğŸ°"));

    Array<Item> items;

    const double spawnTime = 0.5;

    double time = 0.0;

    const double itemSpeed = 200.0;

    // ã‚¹ã‚³ã‚¢
    int32 score = 0;

    while (System::Update())
    {
        ClearPrint();
        Print << U"ã‚¢ã‚¤ãƒ†ãƒ ã®å€‹æ•°: " << items.size();
        Print << U"ã‚¹ã‚³ã‚¢: " << score;

        //
        // æ›´æ–°
        //

        const double deltaTime = Scene::DeltaTime();

        if (KeyLeft.pressed())
        {
            playerPos.x -= playerSpeed * deltaTime;
        }
        else if (KeyRight.pressed())
        {
            playerPos.x += playerSpeed * deltaTime;
        }

        playerPos.x = Clamp(playerPos.x, 0.0, 800.0);

        {
            time += deltaTime;

            while (time >= spawnTime)
            {
                Item item;
                item.pos.x = Random(100, 700);
                item.pos.y = -100;
                item.score = 10;

                items << item;

                time -= spawnTime;
            }

            for (auto& item : items)
            {
                item.pos.y += deltaTime * itemSpeed;
            }

            // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã‚ãŸã‚Šåˆ¤å®šã®å††
            const Circle playerCirlce(playerPos, 50);

            // ã‚¢ã‚¤ãƒ†ãƒ ã®ã‚ãŸã‚Šåˆ¤å®šã¨å›åã—ãŸã‚¢ã‚¤ãƒ†ãƒ ã®å‰Šé™¤
            for (auto it = items.begin(); it != items.end();)
            {
                // ã‚¢ã‚¤ãƒ†ãƒ ã®ã‚ãŸã‚Šåˆ¤å®šã®å††
                const Circle itemCircle(it->pos, 50);

                // ãƒ‡ãƒãƒƒã‚°è¡¨ç¤º
                itemCircle.drawFrame(5, Palette::Red);

                // äº¤å·®ã—ãŸã‚‰ã‚¢ã‚¤ãƒ†ãƒ ã‚’å‰Šé™¤
                if (playerCirlce.intersects(itemCircle))
                {
                    // (å‰Šé™¤ã™ã‚‹å‰ã«) ã‚¹ã‚³ã‚¢ã‚’åŠ ç®—
                    score += it->score;

                    // ã‚¢ã‚¤ãƒ†ãƒ ã‚’å‰Šé™¤
                    it = items.erase(it);
                }
                else
                {
                    ++it;
                }
            }

            items.remove_if([](const Item& item) { return item.pos.y > 700; });
        }

        //
        // æç”»
        //

        Scene::Rect()
            .draw(Arg::top = ColorF(0.1, 0.4, 0.8), Arg::bottom = ColorF(0.3, 0.7, 1.0));

        playerTexture.drawAt(playerPos);

        // ãƒ‡ãƒãƒƒã‚°æç”»
        Circle(playerPos, 50).drawFrame(1, Palette::Red);

        for (const auto& item : items)
        {
            itemTexture.drawAt(item.pos);

            // ãƒ‡ãƒãƒƒã‚°æç”»
            Circle(item.pos, 50).drawFrame(1, Palette::Red);
        }
    }
}
```


### 6. ã‚¢ãƒ—ãƒªé–‹ç™ºç·´ç¿’ã€ŒSlack ç”¨ GIF çµµæ–‡å­—ä½œæˆãƒ„ãƒ¼ãƒ«ã€

#### 6.1 æç”»ã—ãŸå†…å®¹ã®ä¿å­˜

```C+
# include <Siv3D.hpp>

void Main()
{
    // ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ†ã‚¯ã‚¹ãƒãƒ£
    MSRenderTexture renderTexture(128, 128);

    // ãƒ•ã‚©ãƒ³ãƒˆ
    const Font font(60, Typeface::Heavy);

    while (System::Update())
    {
        // renderTexture ã‚’ç™½ã§ã‚¯ãƒªã‚¢
        renderTexture.clear(Palette::White);
        {
            // æç”»å…ˆã‚’ renderTexture ã«ã™ã‚‹
            ScopedRenderTarget2D renderTarget(renderTexture);

            font(U"é«˜å°‚").drawAt(64, 64, Palette::Orange);
        }

        // ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ†ã‚¯ã‚¹ãƒãƒ£ã¸ã®æç”»ã‚’å®Œäº†
        {
            Graphics2D::Flush();
            renderTexture.resolve();
        }

        if (MouseL.down()) // å·¦ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰
        {
            // ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ†ã‚¯ã‚¹ãƒãƒ£ã®ä¸­èº«ã‚’ Image ã§å–å¾—
            Image image;
            renderTexture.readAsImage(image);

            // Image ã‚’ 64x64 ã«ç¸®å°ã—ã€PNG å½¢å¼ã§ä¿å­˜
            image.scale(64, 64).save(U"frame.png");
        }

        // ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ†ã‚¯ã‚¹ãƒãƒ£ã®æç”»
        renderTexture.draw(20, 20);
    }
}
```

#### 6.2 GIF ã‚¢ãƒ‹ãƒ¡ã®ä¿å­˜

```C++
# include <Siv3D.hpp>

void Main()
{
    MSRenderTexture renderTexture(128, 128);

    const Font font(60, Typeface::Heavy);

    // GIF ã‚¢ãƒ‹ãƒ¡å‡ºåŠ›ã‚¯ãƒ©ã‚¹
    AnimatedGIFWriter gif(U"emoji.gif", 64, 64);

    // æ›¸ãå‡ºã—ãŸãƒ•ãƒ¬ãƒ¼ãƒ æ•°
    int32 frameCount = 0;

    while (System::Update())
    {
        renderTexture.clear(Palette::White);
        {
            ScopedRenderTarget2D renderTarget(renderTexture);

            // (64, 64) ã‚’ä¸­å¿ƒã«å›è»¢ã™ã‚‹åº§æ¨™å¤‰æ›ã‚’é©ç”¨
            Transformer2D transform(Mat3x2::Rotate(18_deg * frameCount, Vec2(64, 64)));

            font(U"åƒè‘‰").drawAt(64, 64, Palette::Orange);
        }
   
        {
            Graphics2D::Flush();
            renderTexture.resolve();
        }

        if (frameCount < 20) // 20 ãƒ•ãƒ¬ãƒ¼ãƒ æ›¸ãå‡ºã—
        {
            Image image;
            renderTexture.readAsImage(image);

            // GIF ã‚¢ãƒ‹ãƒ¡ã®ãƒ•ãƒ¬ãƒ¼ãƒ ã¨ã—ã¦æ›¸ãå‡ºã—
            gif.writeFrame(image.scaled(64, 64), 0.1s);

            ++frameCount;
        }
        else // 20 ãƒ•ãƒ¬ãƒ¼ãƒ æ›¸ãå‡ºã—ãŸã‚‰çµ‚äº†
        {
            break;
        }

        // ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ†ã‚¯ã‚¹ãƒãƒ£ã®æç”»
        renderTexture.draw(20, 20);
    }
}
```

### 7. ãƒ©ã‚¤ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼ˆæ™‚é–“ãŒã‚ã‚Œã°ï¼‰

- https://scrapbox.io/siv3d-chiba/ãƒ©ã‚¤ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°

### 8. Siv3D ã«èˆˆå‘³ã‚’æŒã£ãŸã‚‰

- [OpenSiv3D ã®ãƒªãƒã‚¸ãƒˆãƒª](https://github.com/Siv3D/OpenSiv3D) ã‚’ â˜… ç™»éŒ²
    - [å…¨ãƒ˜ãƒƒãƒ€](https://github.com/Siv3D/OpenSiv3D/tree/master/Siv3D/include/Siv3D) ãŒèª­ã‚ã‚‹
- [Siv3D ãƒ¦ãƒ¼ã‚¶ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ Slack](https://siv3d.github.io/ja-jp/community/community/) ã«ç™»éŒ²
- ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’é€²ã‚ã‚‹
- ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’ã‚ˆãèª­ã‚€
- ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’ï¼ˆç•¥
- å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã‚µãƒ³ãƒ—ãƒ«ã«æ°—ã‚’ä»˜ã‘ã‚‹
    - æœ€æ–°ã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ https://siv3d.github.io/ja-jp/ (OpenSiv3D v0.4.0 ä»¥é™)
    - https://scrapbox.io/Siv3D/ ã¯å¤ã„ (OpenSiv3D v0.3.x ä»¥å‰)
    - https://github.com/Siv3D/Reference-JP/wiki ã¯ OpenSiv3D ã§ã¯ãªãæ—§ Siv3D
- ä½œã£ãŸã‚‚ã®ã‚’[ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ä»˜ãã§ãƒ„ã‚¤ãƒ¼ãƒˆ](https://twitter.com/search?q=Siv3D%20OR%20OpenSiv3D&src=typed_query&f=live)

